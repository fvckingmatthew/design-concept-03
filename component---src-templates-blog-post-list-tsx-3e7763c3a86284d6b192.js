(self.webpackChunksite_hopfab=self.webpackChunksite_hopfab||[]).push([[952],{3217:function(e,t,a){"use strict";var l=a(7294),r=a(5444),n=a(9499);t.Z=function(e){var t=e.className,a=e.to,s=e.hasSelectedCategory,o=e.categoryName,i=e.categoryCount;return l.createElement(n.Match,{path:a},(function(e){var n=e.match;return l.createElement(r.Link,{to:a,className:"group "+t+" "+(s&&!n?"text-gris-200":"text-gris-800")},l.createElement("span",{className:(s&&n?"border-b-2":"")+" "+(s&&!n?"border-gris-200":"border-gris-800")+" group-hover:border-b-2"},o),l.createElement("sup",{className:"text-xs xl:text-base ml-1 border-none"},i))}))}},5422:function(e,t,a){"use strict";var l=a(7294),r=a(5444),n=a(7249),s=a(5098),o=a(2045),i=a(734),c=a(8738);t.Z=function(e){var t,a=e.children,m=(0,r.useStaticQuery)("1023148957");return l.createElement(l.Fragment,null,l.createElement(c.Z,null),l.createElement(s.Z,{siteTitle:(null===(t=m.site.siteMetadata)||void 0===t?void 0:t.title)||"Titre"}),l.createElement("main",{className:"sm:max-w-screen-sm md:max-w-screen-md lg:max-w-screen-lg xl:max-w-screen-xl 2xl:max-w-screen-2xl mx-auto px-6 md:px-9.5 lg:px-11.5 xl:px-4 2xl:px-18.5"},a),l.createElement(o.Z,null),l.createElement(n.Z,null,l.createElement(i.Z,null)))}},5922:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var l=a(7294),r=a(5444),n=a(7395),s=a(5422),o=a(2132),i=a(7329),c=a(2137),m=a(7757),u=a.n(m),d=a(8060),g=a(6802),x=a(4867),f=a(82),p=function(e){var t,a,n,s,o,i,c,m,u,d,p=e.blogPost,v=e.className,b=e.theme,E=e.imageDisplay,N=void 0===E?"portrait":E,y="portrait"===N?(0,g.d)(null===(t=p.portraitFeaturedImage)||void 0===t||null===(a=t.node)||void 0===a?void 0:a.localFile):(0,g.d)(null===(n=p.landscapeFeaturedImage)||void 0===n||null===(s=n.node)||void 0===s?void 0:s.localFile),h="portrait"===N?null===(o=p.portraitFeaturedImage)||void 0===o||null===(i=o.node)||void 0===i?void 0:i.alt:null===(c=p.landscapeFeaturedImage)||void 0===c||null===(m=c.node)||void 0===m?void 0:m.alt;return l.createElement("article",{className:v+" space-y-4"},y&&l.createElement(r.Link,{to:"/blog"+p.uri,className:"flex overflow-hidden"},l.createElement(g.G,{image:y,alt:h||"",className:"transform duration-200 ease-in-out scale-100 hover:scale-110"})),l.createElement("div",{className:"flex flex-wrap text-xs font-bold uppercase"},l.createElement("ul",{className:"flex"},null===(u=p.categories)||void 0===u||null===(d=u.nodes)||void 0===d?void 0:d.map((function(e){return l.createElement("li",{key:e.id},e.name)}))),l.createElement("span",{className:"whitespace-pre"},", "),l.createElement("span",{className:"font-medium"},(0,x.W)(new Date(p.date),"dd MMM yyyy"))),l.createElement("h2",{className:"flex-1 font-serif text-3.8xl md:text-3xl lg:text-3.8xl"},p.title),l.createElement(r.Link,{to:"/blog"+p.uri,className:"group inline-flex items-center text-xs font-bold uppercase rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 "+("dark"===b?"focus-visible:ring-offset-brown-50 focus-visible:ring-brown-700":"focus-visible:ring-offset-gris-800 focus-visible:ring-brown-50")},l.createElement("span",{className:"relative disappearing-border"},"Lire l'article"),l.createElement(f.Z,{className:"opacity-0 transition duration-200 ease-in-out transform -translate-x-1 -translate-y-1 ml-1 group-hover:opacity-100 group-hover:-translate-x-0 group-hover:-translate-y-0"})))},v=a(3310),b=function(e){var t,a,n,s,o,i,c,m=e.blogPost,u=e.className,d=e.theme,p=(0,g.d)(null===(t=m.portraitFeaturedImage)||void 0===t||null===(a=t.node)||void 0===a?void 0:a.localFile);return l.createElement("article",{className:u+" py-10"},l.createElement("div",{className:"grid large-blog-post md:gap-x-26 lg:gap-x-28 2xl:gap-x-30"},l.createElement("div",{className:"row-start-2 md:row-start-1 flex flex-1 flex-col justify-between space-y-8"},l.createElement("div",{className:"space-y-8"},l.createElement("div",{className:"flex flex-wrap text-xs font-bold uppercase mt-5 md:mt-0"},l.createElement("ul",{className:"flex"},null===(n=m.categories)||void 0===n||null===(s=n.nodes)||void 0===s?void 0:s.map((function(e){return l.createElement("li",{key:e.id},e.name)}))),l.createElement("span",{className:"whitespace-pre"},", "),l.createElement("span",{className:"font-medium"},(0,x.W)(new Date(m.date),"dd MMM yyyy"))),l.createElement("h2",{className:"font-serif text-5.5xl md:text-4.8xl lg:text-5.5xl xl:text-6.9xl"},m.title)),l.createElement("div",{className:"space-y-6"},l.createElement("div",{className:"text-lg md:text-base lg:text-lg xl:text-1xl xl:leading-normal flex-1"},(0,v.ZP)(null!==(o=m.excerpt)&&void 0!==o?o:"")),l.createElement(r.Link,{to:"/blog"+m.uri,className:"group inline-flex items-center text-xs font-bold uppercase rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 "+("dark"===d?"focus-visible:ring-offset-brown-50 focus-visible:ring-brown-700":"focus-visible:ring-offset-gris-800 focus-visible:ring-brown-50")},l.createElement("span",{className:"relative disappearing-border"},"Lire l'article"),l.createElement(f.Z,{className:"opacity-0 transition duration-200 ease-in-out transform -translate-x-1 -translate-y-1 ml-1 group-hover:opacity-100 group-hover:-translate-x-0 group-hover:-translate-y-0"})))),p&&l.createElement(r.Link,{to:"/blog"+m.uri,className:"row-start-1 flex flex-1 justify-end overflow-hidden"},l.createElement(g.G,{image:p,alt:(null===(i=m.portraitFeaturedImage)||void 0===i||null===(c=i.node)||void 0===c?void 0:c.alt)||"",className:"transform duration-200 ease-in-out scale-100 hover:scale-110"}))))},E=function(e){var t=e.initialBlogPosts,a=e.initialCurrentPage,r=e.totalPages,n=e.category,s=(0,l.useState)(t),o=s[0],m=s[1],g=(0,l.useState)(a),x=g[0],v=g[1],E=(0,l.useState)(!1),N=E[0],y=E[1],h=(0,l.useMemo)((function(){return Math.ceil(o.length/4)}),[o]),w=(0,l.useMemo)((function(){return Array.from({length:h})}),[h]),k=(0,l.useCallback)((0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,(0,d.U2)("/blog"+(n?"-"+n.slug:"")+"-"+x+".json");case 4:if((t=e.sent)!=={}){e.next=7;break}return e.abrupt("return");case 7:m((function(e){return[].concat((0,i.Z)(e),(0,i.Z)(t.map((function(e){return e.post}))))})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:y(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),[x]);return l.createElement("div",{className:"grid gap-4 sm:max-w-screen-sm md:max-w-screen-md lg:max-w-screen-lg xl:max-w-screen-xl 2xl:max-w-screen-2xl m-auto pb-10"},w.map((function(e,t){return l.createElement("div",{key:t},null!=o&&o[4*t]?l.createElement(b,{blogPost:null==o?void 0:o[4*t],className:"text-gris-800 border-t border-b border-gris-800",theme:"dark"}):l.createElement(l.Fragment,null),l.createElement("div",{className:"grid blog-post-list md:gap-x-30 lg:gap-x-20 xl:gap-x-22 2xl:gap-x-29.5 gap-y-12 py-16"},o.slice(4*t+1,4*(t+1)).map((function(e,t){return l.createElement(p,{key:e.id,blogPost:e,className:(2===t?"md:col-span-2 lg:col-span-1":"")+" text-gris-800",theme:"dark",imageDisplay:2===t?"landscape":"portrait"})}))))})),r>x&&l.createElement("div",{className:"flex justify-end"},!N&&l.createElement("button",{type:"button",onClick:function(){v(x+1),k()},className:"group flex items-center text-4xl md:text-6.1xl font-bold focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-brown-50 focus-visible:ring-brown-700"},l.createElement("span",{className:"mt-1.5 border-b-6 transition duration-200 ease-in-out transform border-transparent group-hover:border-gris-800"},"Voir plus"),l.createElement(f.Z,{className:"w-6 h-6 md:w-11 md:h-11 ml-4 mt-2"})),N&&l.createElement("div",{className:"text-4xl md:text-6.1xl font-bold"},"Chargement ...")))},N=function(e){var t,a,n,s,o,i,c,m=e.blogPost,u=e.className,d=(0,g.d)(null===(t=m.featuredImage)||void 0===t||null===(a=t.node)||void 0===a?void 0:a.localFile);return l.createElement("article",{className:u},l.createElement("div",{className:"border-b border-t border-gris-800 pb-10"},l.createElement("div",{className:"text-sm font-bold uppercase uppercase my-4"},"A la une"),d&&l.createElement(r.Link,{to:"/blog"+m.uri,className:"flex overflow-hidden"},l.createElement(g.G,{image:d,alt:(null===(n=m.featuredImage)||void 0===n||null===(s=n.node)||void 0===s?void 0:s.alt)||"",className:"transform duration-200 ease-in-out scale-100 hover:scale-110"}))),l.createElement("div",{className:"border-b border-gris-800 pb-10"},l.createElement("div",{className:"sm:grid sm:grid-cols-2 sm:gap-x-28 text-xs font-bold uppercase mt-4"},l.createElement("ul",{className:"flex mt"},null===(o=m.categories)||void 0===o||null===(i=o.nodes)||void 0===i?void 0:i.map((function(e){return l.createElement("li",{key:e.id},e.name)}))),l.createElement("span",{className:"font-medium mt"},(0,x.W)(new Date(m.date),"dd MMM yyyy"))),l.createElement("div",{className:"grid md:grid-cols-2 gap-y-6 sm:gap-x-28 pt-10 pb-8"},l.createElement("h2",{className:"font-serif text-5xl sm:text-7xl"},m.title),l.createElement("div",{className:"text-lg md:text-base lg:text-lg xl:text-1xl xl:leading-relaxed flex-1"},(0,v.ZP)(null!==(c=m.excerpt)&&void 0!==c?c:""))),l.createElement(r.Link,{to:"/blog"+m.uri,className:"group inline-flex items-center text-xs font-bold uppercase rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-brown-50 focus-visible:ring-brown-700"},l.createElement("span",{className:"relative disappearing-border"},"Lire la suite"),l.createElement(f.Z,{className:"opacity-0 transition duration-200 ease-in-out transform -translate-x-1 -translate-y-1 ml-1 group-hover:opacity-100 group-hover:-translate-x-0 group-hover:-translate-y-0"}))))},y=a(3217),h=function(e){var t,a=e.categoryStats,r=e.categories,n=e.activeCategory,s=e.totalCount,o=e.className,i=null!==(t=null==a?void 0:a.map((function(e){return Object.assign({},e,{category:r.find((function(t){return t.id===e.fieldValue}))})})))&&void 0!==t?t:[];return l.createElement("ul",{className:o+" flex flex-wrap max-w-md"},i.map((function(e){return l.createElement("li",{key:e.fieldValue,className:"flex-0 mr-4 mb-1 xl:mb-2"},l.createElement(y.Z,{to:"/blog"+e.category.uri,className:"font-medium text-1xl xl:text-3.5xl "+(n?"text-gris-200":"text-gris-800")+" rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-brown-50 focus-visible:ring-brown-700",hasSelectedCategory:void 0!==n,categoryName:e.category.name,categoryCount:e.totalCount}))})),n&&l.createElement("li",{className:"flex-0 mr-4 mb-1 xl:mb-2"},l.createElement(y.Z,{to:"/blog",className:"font-medium text-1xl xl:text-3.5xl "+(n?"text-gris-200":"text-gris-800")+" rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-brown-50 focus-visible:ring-brown-700",hasSelectedCategory:void 0!==n,categoryName:"Tous",categoryCount:s})))},w=function(e){var t=e.data,a=t.posts,i=t.stickyPosts,c=t.categoryGroupStats,m=t.totalStats,u=t.categories,d=e.pageContext,g=d.category;return l.createElement(s.Z,null,l.createElement(o.Z,{title:(g?g.name+" - ":"")+"Journal"}),l.createElement("div",null,l.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-5 lg:gap-28 items-end mt-40"},l.createElement("h1",{className:"col-span-3 font-bold text-7.5xl md:text-9xl lg:text-10xl xl:text-12xl"},"Journal"),l.createElement("div",{className:"col-span-2 mb-8 lg:mb-2 xl:mb-1"},l.createElement("div",{className:"hidden lg:block text-sm font-bold uppercase"},"Table des matières"),l.createElement(h,{categoryStats:c.group,categories:u.nodes,activeCategory:g,totalCount:m.totalCount,className:"mt-6 mb-1"}))),!g&&1===d.currentPage&&i.nodes.length>0?l.createElement(N,{blogPost:i.nodes[0]}):l.createElement(l.Fragment,null),!g&&l.createElement("div",null,l.createElement("h2",{className:"text-8xl md:text-9.5xl lg:text-12xl font-bold leading-none mt-32 mb-10"},"Voir aussi")),l.createElement(E,{initialBlogPosts:a.nodes,initialCurrentPage:d.currentPage,totalPages:d.totalPages,category:g}),d.currentPage>1&&l.createElement(r.Link,{to:(0,n._)("blog",d.currentPage-1,"",null==g?void 0:g.uri),className:"sr-only"},"Précédent"),d.currentPage<d.totalPages&&l.createElement(r.Link,{to:(0,n._)("blog",d.currentPage+1,"",null==g?void 0:g.uri),className:"sr-only"},"Suivant")))}},7395:function(e,t,a){"use strict";a.d(t,{b:function(){return l},_:function(){return r}});var l=function(e,t){return e?e.replace("https://hopfab.com/"+t+"/",""):""},r=function(e,t,a,l){var r=l;return r&&r.startsWith("/")&&(r=r.substring(1)),r&&r.endsWith("/")&&(r=r.substring(0,r.length-1)),"/"+e+(r?(a?"/"+r:"")+"/"+r:"")+(t>1?"/"+t:"")}}}]);
//# sourceMappingURL=component---src-templates-blog-post-list-tsx-3e7763c3a86284d6b192.js.map