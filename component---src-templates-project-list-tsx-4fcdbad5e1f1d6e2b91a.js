(self.webpackChunksite_hopfab=self.webpackChunksite_hopfab||[]).push([[105],{2269:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var l=a(1804),r=a.n(l),n=a(7294),s=a(5444),c=a(7395),o=a(5773),i=a(2132),m=a(8331),x=a(7329),u=a(2137),d=a(7757),p=a.n(d),g=a(8060),f=a(6802),b=function(e){var t,a,l,r=e.projet,o=e.className,i=null!==(t=null===(a=r.prestationsPrincipales)||void 0===a?void 0:a.split(",").filter((function(e){return e&&e.length>0})))&&void 0!==t?t:[],m=(0,f.d)(r.photo1Image);return n.createElement("article",{className:o},n.createElement(s.Link,{to:"/realisations/"+(0,c.b)(r.fullPath,"realisations"),className:"flex overflow-hidden"},m&&n.createElement(f.G,{image:m,alt:null!==(l=r.photo1Description)&&void 0!==l?l:"",className:"transform duration-200 ease-in-out scale-100 hover:scale-110"})),n.createElement("div",null,n.createElement("div",{className:"text-lg xl:text-1xl mt-4"},n.createElement("span",{className:"text-base xl:text-xl font-bold uppercase mr-1"},r.client),n.createElement("h2",{className:"inline"},r.titreDescriptif),r.architecte&&n.createElement("span",null,n.createElement("span",{className:"mx-1"},"par"),n.createElement("span",{className:"text-base xl:text-xl font-bold uppercase"},r.architecte))),n.createElement("ul",{className:"flex flex-wrap mt-4"},i.map((function(e,t){return n.createElement("li",{key:t,className:"uppercase text-xs flex items-center justify-center border border-gray-500 rounded-full py-1 px-3 mr-2 mb-2"},e)})))))},v=a(82),E=function(e){var t=e.initialProjects,a=e.initialCurrentPage,l=e.totalPages,r=e.selectedCategory,s=(0,n.useState)(t),c=s[0],o=s[1],i=(0,n.useState)(a),m=i[0],d=i[1],f=(0,n.useState)(!1),E=f[0],N=f[1],h=(0,n.useMemo)((function(){return Math.ceil(c.length/2)}),[c]),y=(0,n.useMemo)((function(){return Array.from({length:h})}),[h]),k=(0,n.useCallback)((0,u.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,(0,g.U2)("/realisations"+(r?"-"+r:"")+"-"+m+".json");case 4:if((t=e.sent)!=={}){e.next=7;break}return e.abrupt("return");case 7:o((function(e){return[].concat((0,x.Z)(e),(0,x.Z)(t.map((function(e){return e.project}))))})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:N(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),[m]);return n.createElement("div",{className:"grid grid-cols-1 gap-18"},y.map((function(e,t){return n.createElement("div",{key:t,className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 md:gap-x-14 lg:gap-x-18 xl:gap-x-22 2xl:gap-x-24 gap-y-18"},c.slice(2*t,2*(t+1)).map((function(e,t){return n.createElement(b,{key:e.id,projet:e,className:0===t?"":"md:mt-26 lg:mt-30 xl:mt-34"})})))})),l>m&&n.createElement("div",{className:"flex justify-end"},!E&&n.createElement("button",{type:"button",onClick:function(){d(m+1),k()},className:"group flex items-center text-4xl md:text-6.1xl font-bold focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-brown-50 focus-visible:ring-brown-700"},n.createElement("span",{className:"mt-1.5 border-b-6 transition duration-200 ease-in-out transform border-transparent group-hover:border-gris-800"},"Voir plus"),n.createElement(v.Z,{className:"w-6 h-6 md:w-11 md:h-11 ml-4 mt-2"})),E&&n.createElement("div",{className:"text-4xl md:text-6.1xl font-bold"},"Chargement ...")))},N=a(2141),h=function(e){var t,a,l=e.data,x=l.projets,u=l.typesDeProjetGroupStats,d=l.totalStats,p=e.pageContext,g=null===(t=p.filters)||void 0===t||null===(a=t.typeDeProjet)||void 0===a?void 0:a.eq,f=r()(g);return n.createElement(o.Z,{theme:"brown"},n.createElement(i.Z,{title:(g?g+" - ":"")+"Réalisations"}),n.createElement("div",{className:"sm:max-w-screen-sm md:max-w-screen-md lg:max-w-screen-lg xl:max-w-screen-xl 2xl:max-w-screen-2xl mx-auto px-6 md:px-9.5 lg:px-11.5 xl:px-4 2xl:px-18.5 pb-10"},n.createElement("div",{className:"grid lg:grid-cols-12 mt-24"},n.createElement("div",{className:"hidden lg:block font-bold text-5.5xl md:text-6xl lg:text-6.5xl xl:text-7.5xl"},x.totalCount),n.createElement("div",{className:"col-span-12 lg:col-span-11 md:ml-5 lg:ml-19 xl:ml-23 2xl:ml-28"},n.createElement("div",{className:"grid grid-cols-5 lg:block"},n.createElement("div",{className:"block lg:hidden font-bold text-5.5xl md:text-6xl lg:text-6.5xl xl:text-7.5xl"},x.totalCount),n.createElement("div",{className:"col-span-4 grid grid-cols-1 gap-4 mb-16"},n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-12 md:gap-x-14 lg:gap-x-18 xl:gap-x-22 2xl:gap-x-24"},n.createElement("h1",{className:"font-bold text-5.5xl md:text-6xl lg:text-6.5xl xl:text-7.5xl"},g||"Toutes nos réalisations"),n.createElement("div",null,n.createElement("div",{className:"hidden lg:block text-sm font-bold uppercase mt-12"},"Filtrer les projets"),n.createElement(m.Z,{basePath:"realisations",categoryName:"type-de-projet",categoryStats:u.group,selectedCategory:g,totalCount:d.totalCount,className:"mt-14"}))))),n.createElement(E,{initialProjects:x.nodes,initialCurrentPage:p.currentPage,totalPages:p.totalPages,selectedCategory:f}),p.currentPage>1&&n.createElement(s.Link,{to:(0,c._)("realisations",p.currentPage-1,"type-de-projet",f),className:"sr-only"},"Précédent"),p.currentPage<p.totalPages&&n.createElement(s.Link,{to:(0,c._)("realisations",p.currentPage+1,"type-de-projet",f),className:"sr-only"},"Suivant")))),n.createElement(N.Z,{className:"py-24 xl:py-28"}))}}}]);
//# sourceMappingURL=component---src-templates-project-list-tsx-4fcdbad5e1f1d6e2b91a.js.map