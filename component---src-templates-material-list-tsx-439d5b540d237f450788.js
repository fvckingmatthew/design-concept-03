(self.webpackChunksite_hopfab=self.webpackChunksite_hopfab||[]).push([[393],{8969:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var l=a(1804),r=a.n(l),n=a(7294),s=a(5444),c=a(7395),m=a(5773),i=a(2132),o=a(8331),u=a(7329),x=a(2137),d=a(7757),g=a.n(d),p=a(8060),f=a(6802),b=function(e){var t,a,l,r=e.material,m=e.className,i=null!==(t=null===(a=r.domainesDapplication)||void 0===a?void 0:a.split(",").filter((function(e){return e&&e.length>0})))&&void 0!==t?t:[],o=(0,f.d)(r.photo1Image);return n.createElement("article",{className:m},n.createElement(s.Link,{to:"/materiautheque/"+(0,c.b)(r.fullPath,"materiautheque"),className:"flex overflow-hidden"},o&&n.createElement(f.G,{image:o,alt:null!==(l=r.photo1Description)&&void 0!==l?l:"",className:"transform duration-200 ease-in-out scale-100 hover:scale-110"})),n.createElement("div",null,n.createElement("div",{className:"flex flex-wrap text-base xl:text-xl mt-4"},n.createElement("h2",{className:"font-bold uppercase mr-1"},r.nomMateriau),n.createElement("div",null,r.reference)),n.createElement("ul",{className:"flex flex-wrap mt-4"},i.map((function(e,t){return n.createElement("li",{key:t,className:"uppercase text-xs flex items-center justify-center border border-gray-500 rounded-full py-1 px-3 mr-2 mb-2"},e)})))))},v=a(82),E=function(e){var t=e.initialMaterials,a=e.initialCurrentPage,l=e.totalPages,r=e.selectedCategory,s=(0,n.useState)(t),c=s[0],m=s[1],i=(0,n.useState)(a),o=i[0],d=i[1],f=(0,n.useState)(!1),E=f[0],h=f[1],N=(0,n.useMemo)((function(){return Math.ceil(c.length/2)}),[c]),y=(0,n.useMemo)((function(){return Array.from({length:N})}),[N]),k=(0,n.useCallback)((0,x.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,(0,p.U2)("/materiautheque"+(r?"-"+r:"")+"-"+o+".json");case 4:if((t=e.sent)!=={}){e.next=7;break}return e.abrupt("return");case 7:m((function(e){return[].concat((0,u.Z)(e),(0,u.Z)(t.map((function(e){return e.material}))))})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:h(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),[o]);return n.createElement("div",{className:"grid grid-cols-1 gap-18"},y.map((function(e,t){return n.createElement("div",{key:t,className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 md:gap-x-14 lg:gap-x-18 xl:gap-x-22 2xl:gap-x-24 gap-y-18"},c.slice(2*t,2*(t+1)).map((function(e,t){return n.createElement(b,{key:e.id,material:e,className:0===t?"":"md:mt-26 lg:mt-30 xl:mt-34"})})))})),l>o&&n.createElement("div",{className:"flex justify-end"},!E&&n.createElement("button",{type:"button",onClick:function(){d(o+1),k()},className:"group flex items-center text-4xl md:text-6.1xl font-bold focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-brown-50 focus-visible:ring-brown-700"},n.createElement("span",{className:"mt-1.5 border-b-6 transition duration-200 ease-in-out transform border-transparent group-hover:border-gris-800"},"Voir plus"),n.createElement(v.Z,{className:"w-6 h-6 md:w-11 md:h-11 ml-4 mt-2"})),E&&n.createElement("div",{className:"text-4xl md:text-6.1xl font-bold"},"Chargement ...")))},h=a(2141),N=function(e){var t,a,l=e.data,u=l.materiaux,x=l.typesDeMateriauGroupStats,d=l.totalStats,g=e.pageContext,p=null===(t=g.filters)||void 0===t||null===(a=t.materiau)||void 0===a?void 0:a.eq,f=r()(p);return n.createElement(m.Z,{theme:"brown"},n.createElement(i.Z,{title:(p?p+" - ":"")+"Matériauthèque"}),n.createElement("div",{className:"sm:max-w-screen-sm md:max-w-screen-md lg:max-w-screen-lg xl:max-w-screen-xl 2xl:max-w-screen-2xl mx-auto px-6 md:px-9.5 lg:px-11.5 xl:px-4 2xl:px-18.5 pb-10"},n.createElement("div",{className:"grid lg:grid-cols-12 mt-24"},n.createElement("div",{className:"hidden lg:block font-bold text-5.5xl md:text-6xl lg:text-7xl xl:text-7.5xl"},u.totalCount),n.createElement("div",{className:"col-span-12 lg:col-span-11 md:ml-5 lg:ml-19 xl:ml-23 2xl:ml-28"},n.createElement("div",{className:"grid grid-cols-5 lg:block"},n.createElement("div",{className:"block lg:hidden font-bold text-5.5xl md:text-6xl lg:text-7xl xl:text-7.5xl"},u.totalCount),n.createElement("div",{className:"col-span-3 grid grid-cols-1 gap-4 mb-16"},n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-12 md:gap-x-14 lg:gap-x-18 xl:gap-x-22 2xl:gap-x-24"},n.createElement("h1",{className:"font-bold text-5.5xl md:text-6xl lg:text-7xl xl:text-7.5xl"},p||"Tous nos matériaux"),n.createElement("div",null,n.createElement("div",{className:"hidden lg:block text-sm font-bold uppercase mt-12"},"Filtrer les matériaux"),n.createElement(o.Z,{basePath:"materiautheque",categoryName:"type-de-materiau",categoryStats:x.group,selectedCategory:p,totalCount:d.totalCount,className:"mt-14"}))))),n.createElement(E,{initialMaterials:u.nodes,initialCurrentPage:g.currentPage,totalPages:g.totalPages,selectedCategory:f}),g.currentPage>1&&n.createElement(s.Link,{to:(0,c._)("materiautheque",g.currentPage-1,"type-de-materiau",f),className:"sr-only"},"Précédent"),g.currentPage<g.totalPages&&n.createElement(s.Link,{to:(0,c._)("materiautheque",g.currentPage+1,"type-de-materiau",f),className:"sr-only"},"Suivant")))),n.createElement(h.Z,{className:"py-24 xl:py-28"}))}}}]);
//# sourceMappingURL=component---src-templates-material-list-tsx-439d5b540d237f450788.js.map